<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>01: global.R â€¢ GoContactR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="01: global.R">
<meta property="og:description" content="GoContactR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GoContactR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Scripts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a01_global.html">01 global.R</a>
    </li>
    <li>
      <a href="../articles/a02_server.html">02 server.R</a>
    </li>
    <li>
      <a href="../articles/a03_server_functions.html">03 server_functions.R</a>
    </li>
    <li>
      <a href="../articles/a03.1_server_functions_for_CIV.html">03.1 server_functions_for_CIV.R</a>
    </li>
    <li>
      <a href="../articles/a03.2_server_functions_for_COG.html">03.2 server_functions_for_COG.R</a>
    </li>
    <li>
      <a href="../articles/a03.3_server_functions_for_SAMPLE.html">03.3 server_functions_for_SAMPLE.R</a>
    </li>
    <li>
      <a href="../articles/a03.4_server_functions_for_UGA.html">03.4 server_functions_for_UGA.R</a>
    </li>
    <li>
      <a href="../articles/a04_ui.html">04 ui.R</a>
    </li>
    <li>
      <a href="../articles/a05_report.html">05 report.Rmd</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Report outputs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/gocontactr_report_html_page.html">HTML page</a>
    </li>
    <li>
      <a href="../articles/gocontactr_report_html_slides.html">HTML slides</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/a06_video_walkthroughs.html">Walkthroughs</a>
</li>
<li>
  <a href="https://gocontactr.shinyapps.io/sample">View Sample App</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kendavidn/GoContactR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="a01_global_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>01: global.R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kendavidn/GoContactR/blob/master/vignettes/a01_global.Rmd"><code>vignettes/a01_global.Rmd</code></a></small>
      <div class="hidden name"><code>a01_global.Rmd</code></div>

    </div>

    
    
<p>The global.R file is run once before your app starts. Any R objects created here become available to the app.R file, the ui.R and the server.R files. # Main parameters</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~  Main parameters ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="va">PARAMS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The application has been built to work with two main data sources: contact tracing data from KoboCollect-exported csv files, and contact tracing data from a Go.Data instance (by direct API connection) Here, at the beginning of the global.R file, we set the PARAMS$country_code variable to the country being worked on. This ensures that the correct data import elements are loaded in the app, that is, either the elements for KoboCollect csv import and processing, or the elements for connecting to, and downloading from the Go.Data instance.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Uncomment the below to change country app version</span>
<span class="co">#PARAMS$country_code &lt;- "CIV" </span>
<span class="co">#PARAMS$country_code &lt;- "COG"</span>
<span class="co">#PARAMS$country_code &lt;- "UGA"</span>
<span class="va">PARAMS</span><span class="op">$</span><span class="va">country_code</span> <span class="op">&lt;-</span> <span class="st">"SAMPLE"</span></code></pre></div>
<p>When <code>testing_mode</code> is set to true, the app loads with only a small subset of the data. This hastens loading speed and saves your time.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">PARAMS</span><span class="op">$</span><span class="va">testing_mode</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></code></pre></div>
<p>When <code>remove_help_tab</code> is set to false, RStudio loads the PDF from the help tab as a separate window. Somewhat annoying</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">PARAMS</span><span class="op">$</span><span class="va">remove_help_tab</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></code></pre></div>
<p>For the Go.Data-sourced sample data, information on administrative levels is mostly missing. But this makes for an uninteresting dashboard. Turn on this parameter to add in sample administrative levels</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">PARAMS</span><span class="op">$</span><span class="va">fake_data</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></code></pre></div>
<div id="packages" class="section level1">
<h1 class="hasAnchor">
<a href="#packages" class="anchor"></a>Packages</h1>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~  Packages ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></code></pre></div>
<p>I would normally load packages with p_load but I had some trouble with this when deploying to shiny</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span>
<span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu">webshot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/webshot/man/is_phantomjs_installed.html">is_phantomjs_installed</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu">webshot</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/webshot/man/install_phantomjs.html">install_phantomjs</a></span><span class="op">(</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wch/webshot/">webshot</a></span><span class="op">)</span>  <span class="co">##  for screenshots of htmlwidgets when outputting</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span> 
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EmilHvitfeldt/paletteer">paletteer</a></span><span class="op">)</span> <span class="co">## for palettes</span>
<span class="co"># remotes::install_github("jbkunst/highcharter")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://jkunst.com/highcharter">highcharter</a></span><span class="op">)</span>  <span class="co">## most charts </span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span> <span class="co">## for the snake plot. highcharter renders this plot too slowly</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://deanattali.com/shinyjs/">shinyjs</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dreamRs/shinyWidgets">shinyWidgets</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RinteRface/shinydashboardPlus">shinydashboardPlus</a></span><span class="op">)</span> <span class="co">## extends shinydashboard</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/daattali/shinycssloaders">shinycssloaders</a></span><span class="op">)</span> <span class="co">## spinners for when app elements are loading</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dreamRs/fresh">fresh</a></span><span class="op">)</span> <span class="co">## easy theme changes</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://glin.github.io/reactable/">reactable</a></span><span class="op">)</span> <span class="co">## HTML tables</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ramnathv/htmlwidgets">htmlwidgets</a></span><span class="op">)</span> <span class="co">## for prependContent function</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://kcuilla.github.io/reactablefmtr/">reactablefmtr</a></span><span class="op">)</span> <span class="co">## additional elements for reactable tables</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span> <span class="co">## I sometimes use the %&lt;&gt;% operator from here</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span> <span class="co">## date wrangling</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://alastairrushworth.github.io/inspectdf/">inspectdf</a></span><span class="op">)</span> <span class="co">## the inspect_cat function is used on first page of app</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://visdat.njtierney.com/">visdat</a></span><span class="op">)</span> <span class="co">##  vizdat function used on first page to visualize dataframe</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://stringi.gagolewski.com/">stringi</a></span><span class="op">)</span> <span class="co">## some additional string manipulations not provided by stringr </span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://dirk.eddelbuettel.com/code/anytime.html">anytime</a></span><span class="op">)</span> <span class="co">## for the `anydate` function which does intelligent date parsing</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidyverse/glue">glue</a></span><span class="op">)</span> <span class="co">## alternative to `paste`</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor">janitor</a></span><span class="op">)</span> <span class="co">## some cleaning utilities</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span> <span class="co">## for date and time scales</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/gt">gt</a></span><span class="op">)</span> <span class="co">## for easily customizable HTML table</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-gregmisc/gtools">gtools</a></span><span class="op">)</span> <span class="co">## for the `mixedsort` function</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span> <span class="co">## for the html_text2 function</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://rapporter.github.io/pander">pander</a></span><span class="op">)</span> <span class="co">## for some tables?</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/rio">rio</a></span><span class="op">)</span> <span class="co">## easy importing</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ardata-fr.github.io/flextable-book/">flextable</a></span><span class="op">)</span> <span class="co">## called by huxtable in some functions</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://hughjonesd.github.io/huxtable/">huxtable</a></span><span class="op">)</span> <span class="co">## tables that output to docx and powerpoint</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/rmarkdown">rmarkdown</a></span><span class="op">)</span> <span class="co">## for knitting the report</span>
<span class="co"># devtools::install_github("davidgohel/officedown")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ardata-fr.github.io/officeverse/">officedown</a></span><span class="op">)</span> <span class="co">## for PPTX docs etc.</span>
<span class="co"># devtools::install_github("rfortherestofus/pagedreport", ref = "main")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rfortherestofus/pagedreport">pagedreport</a></span><span class="op">)</span> <span class="co">## for PDF reports </span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/promises/">promises</a></span><span class="op">)</span> <span class="co">## not sure</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://clock.r-lib.org">clock</a></span><span class="op">)</span> <span class="co">## not sure</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/charlatan">charlatan</a></span><span class="op">)</span> <span class="co">## for creating fake data</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/">httr</a></span><span class="op">)</span> <span class="co">## for pulling from godata API</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://arxiv.org/abs/1403.2805">jsonlite</a></span><span class="op">)</span> <span class="co">## convert json files to data frames</span>
<span class="co"># devtools::install_github("amirmasoudabdol/preferably")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://preferably.amirmasoudabdol.name">preferably</a></span><span class="op">)</span> <span class="co">## theme for documentation site</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co">## tidyverse called last to avoid masking</span></code></pre></div>
</div>
<div id="misc-options" class="section level1">
<h1 class="hasAnchor">
<a href="#misc-options" class="anchor"></a>Misc options</h1>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~  Misc options ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></code></pre></div>
<p>A few miscellaneous settings</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">999</span><span class="op">)</span> <span class="co"># turn off scientific notation</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># fix seed</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>tibble.print_max <span class="op">=</span> <span class="fl">35</span>, tibble.print_min <span class="op">=</span> <span class="fl">35</span><span class="op">)</span> <span class="co"># personal preference</span></code></pre></div>
</div>
<div id="misc-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#misc-functions" class="anchor"></a>Misc functions</h1>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~~ Misc functions ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></code></pre></div>
<p>Random functions used throughout the application</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"helper_scripts/misc_functions.R"</span><span class="op">)</span>, local <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
</div>
<div id="set-colors-and-themes" class="section level1">
<h1 class="hasAnchor">
<a href="#set-colors-and-themes" class="anchor"></a>Set colors and themes</h1>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~~ Set colors and themes ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></code></pre></div>
<p>Save some hex codes as named colors for use in app</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">space_cadet</span> <span class="op">&lt;-</span> <span class="st">"#1C2541"</span>
<span class="va">white</span> <span class="op">&lt;-</span> <span class="st">"#FFFFFF"</span>
<span class="va">alice_blue</span> <span class="op">&lt;-</span> <span class="st">"#D9F0FE"</span>
<span class="va">light_gray</span> <span class="op">&lt;-</span> <span class="st">"#ebebeb"</span>
<span class="va">cinnabar</span> <span class="op">&lt;-</span> <span class="st">"#E64B35"</span>
<span class="va">coral</span> <span class="op">&lt;-</span> <span class="st">"#ff7a4a"</span>
<span class="va">peach</span> <span class="op">&lt;-</span> <span class="st">"#FCDC9C"</span>
<span class="va">bright_yellow_crayola</span> <span class="op">&lt;-</span> <span class="st">"#FFB238"</span>
<span class="va">spinner_color</span> <span class="op">&lt;-</span> <span class="va">burnt_sienna</span> <span class="op">&lt;-</span> <span class="st">"#EE6C4D"</span></code></pre></div>
<p>Here we set the params for the <code>fresh</code> theme. The <code>fresh</code> package permits easy customization of shinydashboard colors.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_fresh_theme</span> <span class="op">&lt;-</span>
  <span class="fu">fresh</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fresh/man/create_theme.html">create_theme</a></span><span class="op">(</span>
    <span class="fu">fresh</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fresh/man/adminlte_color.html">adminlte_color</a></span><span class="op">(</span>
      light_blue <span class="op">=</span> <span class="va">white</span>
    <span class="op">)</span>,
    <span class="fu">fresh</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fresh/man/adminlte_sidebar.html">adminlte_sidebar</a></span><span class="op">(</span>
      dark_bg <span class="op">=</span> <span class="va">space_cadet</span>,
      dark_hover_bg <span class="op">=</span> <span class="va">cinnabar</span>,
      dark_color <span class="op">=</span> <span class="va">alice_blue</span>
    <span class="op">)</span>,
    <span class="fu">fresh</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fresh/man/adminlte_global.html">adminlte_global</a></span><span class="op">(</span>
      content_bg <span class="op">=</span> <span class="va">white</span>,
      box_bg <span class="op">=</span> <span class="va">white</span>,
      info_box_bg <span class="op">=</span> <span class="va">light_gray</span>
    <span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<p>Set a color legend for each country/ app version. This feeds the colors on active contacts plots (app tab 2)</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="va">PARAMS</span><span class="op">$</span><span class="va">country_code</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"COG"</span>, <span class="st">"CIV"</span>, <span class="st">"SAMPLE"</span><span class="op">)</span> <span class="op">)</span><span class="op">{</span>
  
<span class="va">legend_df</span> <span class="op">&lt;-</span>
  <span class="fu">tribble</span><span class="op">(</span>
    <span class="op">~</span><span class="va">breaks</span>, <span class="op">~</span><span class="va">colors</span>,
    <span class="st">"Manquant"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"black"</span><span class="op">)</span>,
    <span class="st">"Poursuite du suivi"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"lightseagreen"</span><span class="op">)</span>,
    <span class="st">"Symptomatique, resultats attendus"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"lightpink2"</span><span class="op">)</span>,
    <span class="st">"Devenu cas confirme"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"orangered"</span><span class="op">)</span>,
    <span class="st">"Sorti sain"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"darkolivegreen4"</span><span class="op">)</span>,
    <span class="st">"DeplacÃ©"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"wheat3"</span><span class="op">)</span>,
    <span class="st">"Not generated"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"wheat4"</span><span class="op">)</span>,
    <span class="st">"Fin du suivi"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"dodgerblue3"</span><span class="op">)</span>,
    <span class="st">"Suivi futur"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"goldenrod"</span><span class="op">)</span>,
    <span class="st">"Future follow-up"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"goldenrod"</span><span class="op">)</span>,
    <span class="st">"Decede"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"purple3"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">breaks</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">fct_inorder</span><span class="op">(</span><span class="va">breaks</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>legend_index <span class="op">=</span> <span class="fu">row_number</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">PARAMS</span><span class="op">$</span><span class="va">country_code</span> <span class="op">==</span> <span class="st">"UGA"</span><span class="op">)</span><span class="op">{</span>
<span class="va">legend_df</span> <span class="op">&lt;-</span>
  <span class="fu">tribble</span><span class="op">(</span>
    <span class="op">~</span><span class="va">breaks</span>, <span class="op">~</span><span class="va">colors</span>,
    <span class="st">"Missed"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"gray50"</span><span class="op">)</span>,
    <span class="st">"Missing"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"black"</span><span class="op">)</span>,
    <span class="st">"Seen, Ok"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"lightseagreen"</span><span class="op">)</span>,
    <span class="st">"Seen, Not Ok"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"orangered"</span><span class="op">)</span>,
    <span class="st">"Not attempted"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"wheat3"</span><span class="op">)</span>,
    <span class="st">"Not performed"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"blueviolet"</span><span class="op">)</span>,
    <span class="st">"Not generated"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"purple3"</span><span class="op">)</span>,
    <span class="st">"End of follow-up"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"dodgerblue3"</span><span class="op">)</span>,
    <span class="st">"Future follow-up"</span>, <span class="fu">col2hex</span><span class="op">(</span><span class="st">"goldenrod"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">breaks</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">fct_inorder</span><span class="op">(</span><span class="va">breaks</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>legend_index <span class="op">=</span> <span class="fu">row_number</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="misc-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#misc-objects" class="anchor"></a>Misc objects</h1>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~~ Misc objects ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="va">cols_to_exclude_from_filters</span> <span class="op">&lt;-</span> 
  <span class="co">## filters not created for rows that change across each contact</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"follow_up_date"</span>, <span class="st">"follow_up_day"</span>, 
    <span class="st">"follow_up_status"</span>, <span class="st">"follow_up_status_simple"</span>,
    <span class="co">## no filters for synthetic columns either</span>
    <span class="st">"row_id"</span>,<span class="st">"row_number"</span>,<span class="st">"sort_number"</span>, 
    <span class="co">## and no filters on names. </span>
    <span class="co">## Franck mentioned not printing names to app for privacy</span>
    <span class="st">"first_name"</span>, <span class="st">"last_name"</span><span class="op">)</span></code></pre></div>
</div>
<div id="highcharter-themes" class="section level1">
<h1 class="hasAnchor">
<a href="#highcharter-themes" class="anchor"></a>Highcharter themes</h1>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~~ Highcharter themes ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="co"># ~~~~ Palette ----</span>
<span class="va">highcharter_palette_initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
  <span class="st">"#332859"</span>,
  <span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/pkg/paletteer/man/paletteer_d.html">paletteer_d</a></span><span class="op">(</span><span class="st">"ggsci::nrc_npg"</span><span class="op">)</span> <span class="op">%&gt;%</span>
      <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
      <span class="fu">str_sub</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">7</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">## for graphs with many categories</span>
<span class="va">ramped_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html">colorRampPalette</a></span><span class="op">(</span><span class="va">highcharter_palette_initial</span><span class="op">)</span><span class="op">(</span><span class="fl">15</span><span class="op">)</span>

<span class="co">## remove first and last colors from ramp, because these are the initial colors</span>
<span class="va">new_colors</span> <span class="op">&lt;-</span>
  <span class="va">ramped_colors</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">ramped_colors</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">## combine to final palette</span>
<span class="va">highcharter_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">highcharter_palette_initial</span>, <span class="va">new_colors</span><span class="op">)</span></code></pre></div>
<div id="menu-items-for-highcharter" class="section level2">
<h2 class="hasAnchor">
<a href="#menu-items-for-highcharter" class="anchor"></a>Menu items for highcharter</h2>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~ Menu items for highcharter ----</span>

<span class="va">myMenuItems</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"printChart"</span>,
    <span class="st">"separator"</span>,
    <span class="st">"downloadPNG"</span>,
    <span class="st">"downloadJPEG"</span>,
    <span class="st">"downloadPDF"</span>,
    <span class="st">"downloadSVG"</span>,
    <span class="st">"separator"</span>,
    <span class="st">"viewData"</span>,
    <span class="st">"downloadCSV"</span>,
    <span class="st">"downloadXLS"</span>
  <span class="op">)</span></code></pre></div>
</div>
<div id="combine-into-final-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#combine-into-final-theme" class="anchor"></a>Combine into final theme</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~ Combine into final theme ----</span>
<span class="va">newtheme</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="http://jkunst.com/highcharter/reference/hc_theme_merge.html">hc_theme_merge</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/options.html">getOption</a></span><span class="op">(</span><span class="st">"highcharter.theme"</span><span class="op">)</span>,
    <span class="fu"><a href="http://jkunst.com/highcharter/reference/hc_theme.html">hc_theme</a></span><span class="op">(</span>
      chart <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        backgroundColor <span class="op">=</span> <span class="st">"transparent"</span>,
        zoomType <span class="op">=</span> <span class="st">"xy"</span>,
        panning <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"xy"</span><span class="op">)</span>,
        panKey <span class="op">=</span> <span class="st">"shift"</span>
      <span class="op">)</span>,
      colors <span class="op">=</span> <span class="va">highcharter_palette</span>,
      labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>lineHeight <span class="op">=</span> <span class="st">"100px"</span><span class="op">)</span><span class="op">)</span>,
      plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>lineHeight <span class="op">=</span> <span class="st">"100px"</span><span class="op">)</span>
      <span class="op">)</span><span class="op">)</span><span class="op">)</span>,
      exporting <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>buttons <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>contextButton <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>menuItems <span class="op">=</span> <span class="va">myMenuItems</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>highcharter.theme <span class="op">=</span> <span class="va">newtheme</span><span class="op">)</span></code></pre></div>
</div>
<div id="theme-for-sparklines-in-value-boxes" class="section level2">
<h2 class="hasAnchor">
<a href="#theme-for-sparklines-in-value-boxes" class="anchor"></a>Theme for sparklines in value boxes</h2>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~ Theme for sparklines in value boxes ----</span></code></pre></div>
<p>This theme is very minimalist. Equivalent to theme_void in ggplot. Still hoverable though.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hc_theme_sparkline_vb</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    chart <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      backgroundColor <span class="op">=</span> <span class="cn">NULL</span>,
      margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
      spacingTop <span class="op">=</span> <span class="fl">0</span>,
      spacingRight <span class="op">=</span> <span class="fl">0</span>,
      spacingBottom <span class="op">=</span> <span class="fl">0</span>,
      spacingLeft <span class="op">=</span> <span class="fl">0</span>,
      plotBorderWidth <span class="op">=</span> <span class="fl">0</span>,
      borderWidth <span class="op">=</span> <span class="fl">0</span>,
      style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>overflow <span class="op">=</span> <span class="st">"visible"</span><span class="op">)</span>
    <span class="op">)</span>,
    xAxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      visible <span class="op">=</span> <span class="cn">FALSE</span>,
      endOnTick <span class="op">=</span> <span class="cn">FALSE</span>,
      startOnTick <span class="op">=</span> <span class="cn">FALSE</span>
    <span class="op">)</span>,
    yAxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      visible <span class="op">=</span> <span class="cn">FALSE</span>,
      endOnTick <span class="op">=</span> <span class="cn">FALSE</span>,
      startOnTick <span class="op">=</span> <span class="cn">FALSE</span>
    <span class="op">)</span>,
    tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      outside <span class="op">=</span> <span class="cn">FALSE</span>,
      shadow <span class="op">=</span> <span class="cn">FALSE</span>,
      borderColor <span class="op">=</span> <span class="st">"transparent"</span>,
      botderWidth <span class="op">=</span> <span class="fl">0</span>,
      backgroundColor <span class="op">=</span> <span class="st">"transparent"</span>,
      style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>textOutline <span class="op">=</span> <span class="st">"5px white"</span><span class="op">)</span>
    <span class="op">)</span>,
    plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        marker <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
        lineWidth <span class="op">=</span> <span class="fl">2</span>,
        shadow <span class="op">=</span> <span class="cn">FALSE</span>,
        fillOpacity <span class="op">=</span> <span class="fl">0.25</span>,
        color <span class="op">=</span> <span class="st">"#FFFFFFBF"</span>,
        fillColor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
          linearGradient <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="fl">0</span>, y1 <span class="op">=</span> <span class="fl">1</span>, x2 <span class="op">=</span> <span class="fl">0</span>, y2 <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,
          stops <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
            <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0.00</span>, <span class="st">"#FFFFFF00"</span><span class="op">)</span>,
            <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0.50</span>, <span class="st">"#FFFFFF7F"</span><span class="op">)</span>,
            <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1.00</span>, <span class="st">"#FFFFFFFF"</span><span class="op">)</span>
          <span class="op">)</span>
        <span class="op">)</span>
      <span class="op">)</span>
    <span class="op">)</span>,
    credits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      enabled <span class="op">=</span> <span class="cn">FALSE</span>,
      text <span class="op">=</span> <span class="st">""</span>
    <span class="op">)</span>
  <span class="op">)</span>

  <span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="va">theme</span>, class <span class="op">=</span> <span class="st">"hc_theme"</span><span class="op">)</span>

  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://jkunst.com/highcharter/reference/hc_theme_merge.html">hc_theme_merge</a></span><span class="op">(</span>
      <span class="va">theme</span>,
      <span class="fu"><a href="http://jkunst.com/highcharter/reference/hc_theme.html">hc_theme</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">}</span>

  <span class="va">theme</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="plotly-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#plotly-theme" class="anchor"></a>Plotly theme</h2>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~  Plotly theme ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="va">font</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  family <span class="op">=</span> <span class="st">"Avenir"</span>,
  size <span class="op">=</span> <span class="fl">15</span>,
  color <span class="op">=</span> <span class="st">"white"</span>
<span class="op">)</span>

<span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  bordercolor <span class="op">=</span> <span class="st">"transparent"</span>,
  font <span class="op">=</span> <span class="va">font</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="ggplot2-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#ggplot2-theme" class="anchor"></a>ggplot2 theme</h2>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~~ ggplot2 theme ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="va">my_theme</span> <span class="op">&lt;-</span> <span class="fu">theme_classic</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    <span class="co"># plot.background = element_rect(fill = "gray93"),</span>
    panel.grid.major <span class="op">=</span> <span class="fu">element_line</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray95"</span>, size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,
    strip.background <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    <span class="co"># element textbox is from ggtext</span>
    strip.text <span class="op">=</span> <span class="fu">ggtext</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_textbox.html">element_textbox</a></span><span class="op">(</span>
      size <span class="op">=</span> <span class="fl">11</span>, face <span class="op">=</span> <span class="st">"bold"</span>,
      color <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="st">"steelblue3"</span>, halign <span class="op">=</span> <span class="fl">0.5</span>,
      r <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">5</span>, <span class="st">"pt"</span><span class="op">)</span>, width <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">1</span>, <span class="st">"npc"</span><span class="op">)</span>,
      padding <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>, margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="fu">theme_set</span><span class="op">(</span><span class="va">my_theme</span><span class="op">)</span></code></pre></div>
</div>
<div id="reactable-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#reactable-theme" class="anchor"></a>Reactable theme</h2>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co"># ~  Reactable theme ----</span>
<span class="co"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>



<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>reactable.theme <span class="op">=</span> <span class="fu"><a href="https://glin.github.io/reactable/reference/reactableTheme.html">reactableTheme</a></span><span class="op">(</span>
  stripedColor <span class="op">=</span> <span class="st">"#f0f1fc70"</span>,
  backgroundColor <span class="op">=</span> <span class="st">"#FFFFFF00"</span>,
  highlightColor <span class="op">=</span> <span class="st">"#DADEFB"</span>,
  cellPadding <span class="op">=</span> <span class="st">"4px 4px"</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kene David Nwosu.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
